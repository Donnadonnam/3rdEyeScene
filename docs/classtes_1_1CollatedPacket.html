<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>3rd Eye Scene: tes::CollatedPacket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">3rd Eye Scene</div>
   <div id="projectbrief">3rd Eye Scene documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classtes_1_1CollatedPacket.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">tes::CollatedPacket Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="tes::CollatedPacket" --><!-- doxytag: inherits="tes::Connection" -->
<p>A utility class which generates a <code>MtCollatedPacket</code> message by appending multiple other messages.  
 <a href="classtes_1_1CollatedPacket.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="3escollatedpacket_8h_source.html">3escollatedpacket.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for tes::CollatedPacket:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classtes_1_1CollatedPacket.png" usemap="#tes::CollatedPacket_map" alt=""/>
  <map id="tes::CollatedPacket_map" name="tes::CollatedPacket_map">
<area href="classtes_1_1Connection.html" title="Defines the interfaces for a client connection." alt="tes::Connection" shape="rect" coords="0,0,118,24"/>
</map>
 </div></div>

<p><a href="classtes_1_1CollatedPacket-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#aaa9edd51f514d4e7f6ae2723371907dc">CollatedPacket</a> (bool compress, uint16_t bufferSize=0xff00u)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a collated packet.  <a href="#aaa9edd51f514d4e7f6ae2723371907dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a2e97304622f35f822d6598907b28f283">CollatedPacket</a> (unsigned bufferSize, unsigned maxPacketSize)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a collated packet allowing packet sizes large than <code>MaxPacketSize</code>.  <a href="#a2e97304622f35f822d6598907b28f283"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a728e284c02177a2ee6029856bd707e5c"></a><!-- doxytag: member="tes::CollatedPacket::~CollatedPacket" ref="a728e284c02177a2ee6029856bd707e5c" args="()" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a728e284c02177a2ee6029856bd707e5c">~CollatedPacket</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a3f97ae6def82543f4f051feda0b778d9">compressionEnabled</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Is compression enabled.  <a href="#a3f97ae6def82543f4f051feda0b778d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a84e54469e8da7f54dcb93785991c5282">maxPacketSize</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the capacity of the collated packet.  <a href="#a84e54469e8da7f54dcb93785991c5282"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6f4ac557399d2e203832b1190fd49bc"></a><!-- doxytag: member="tes::CollatedPacket::reset" ref="ac6f4ac557399d2e203832b1190fd49bc" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#ac6f4ac557399d2e203832b1190fd49bc">reset</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the collated packet, dropping any existing data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#ac3dd08d578c2314327f3b016ac566197">add</a> (const <a class="el" href="classtes_1_1PacketWriter.html">PacketWriter</a> &amp;packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the packet data in <code>packet</code> to the collation buffer.  <a href="#ac3dd08d578c2314327f3b016ac566197"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a444e15a0a723f604fc1c94910c8a9d0a">add</a> (const uint8_t *buffer, uint16_t byteCount)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add bytes to the packet.  <a href="#a444e15a0a723f604fc1c94910c8a9d0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a168e32275faecfa6478df7ef10931930">finalise</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalises the collated packet for sending.  <a href="#a168e32275faecfa6478df7ef10931930"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a45f02cbfedc8fadd3bf6da256318011a">buffer</a> (unsigned &amp;byteCount) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the internal buffer pointer.  <a href="#a45f02cbfedc8fadd3bf6da256318011a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a5b62f99941c3fc3c720b3832892cafb4">collatedBytes</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of bytes that have been collated.  <a href="#a5b62f99941c3fc3c720b3832892cafb4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a544f6529ee05bc0828ac2edfec0c4b7f"></a><!-- doxytag: member="tes::CollatedPacket::close" ref="a544f6529ee05bc0828ac2edfec0c4b7f" args="() override" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a544f6529ee05bc0828ac2edfec0c4b7f">close</a> () override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Ignored for <code><a class="el" href="classtes_1_1CollatedPacket.html" title="A utility class which generates a MtCollatedPacket message by appending multiple other messages...">CollatedPacket</a></code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a4ddfdc4023544f9fe9786c2dbb155c49">setActive</a> (bool active) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable the connection.  <a href="#a4ddfdc4023544f9fe9786c2dbb155c49"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a1f442da66bf08701ed5d7c103a5ff8e2">active</a> () const override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if currently active.  <a href="#a1f442da66bf08701ed5d7c103a5ff8e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#af543a30f20ff4a243602c3e1607f604c">address</a> () const override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Identifies the collated packet.  <a href="#af543a30f20ff4a243602c3e1607f604c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a8bfb10c7f6f6dee8b1b1867bfab9846e">port</a> () const override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Not supported.  <a href="#a8bfb10c7f6f6dee8b1b1867bfab9846e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#aedb7ee12f0eb02ecd1ae7e1fbeb79fb7">isConnected</a> () const override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Always connected.  <a href="#aedb7ee12f0eb02ecd1ae7e1fbeb79fb7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a20b1e09c0bc25cbb2673a61d2a3de550">create</a> (const <a class="el" href="classtes_1_1Shape.html">Shape</a> &amp;shape) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Collated the create message for <code>shape</code>.  <a href="#a20b1e09c0bc25cbb2673a61d2a3de550"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a9401b42335c315f2257b1201101ff646">destroy</a> (const <a class="el" href="classtes_1_1Shape.html">Shape</a> &amp;shape) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Collated the update message for <code>shape</code>.  <a href="#a9401b42335c315f2257b1201101ff646"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#aac686c68b697789e8ac70d5f0ac05989">update</a> (const <a class="el" href="classtes_1_1Shape.html">Shape</a> &amp;shape) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Collated the destroy message for <code>shape</code>.  <a href="#aac686c68b697789e8ac70d5f0ac05989"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#ab25ce21d62a3a9c9175f743999fb68cd">updateTransfers</a> (unsigned byteLimit) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Not supported.  <a href="#ab25ce21d62a3a9c9175f743999fb68cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#ab183657e8d2c375ee06fa8b5d44605cd">updateFrame</a> (float dt, bool flush=true) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Not supported.  <a href="#ab183657e8d2c375ee06fa8b5d44605cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a93e08139bd315d7bd5bad8835ad90a34">referenceResource</a> (const <a class="el" href="classtes_1_1Resource.html">Resource</a> *resource) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Not supported.  <a href="#a93e08139bd315d7bd5bad8835ad90a34"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a08b6ab0a46a34e39158a770786bc9cc7">releaseResource</a> (const <a class="el" href="classtes_1_1Resource.html">Resource</a> *resource) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Not supported.  <a href="#a08b6ab0a46a34e39158a770786bc9cc7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#a2e9869fdfc5669f3fb56f886ad6c0966">sendServerInfo</a> (const <a class="el" href="structtes_1_1ServerInfoMessage.html">ServerInfoMessage</a> &amp;info) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Collated the create message for <code>shape</code>.  <a href="#a2e9869fdfc5669f3fb56f886ad6c0966"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#aee0ff0271738100b5a80bc1a527aac03">send</a> (const uint8_t *data, int byteCount) override</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Aliased to <code><a class="el" href="classtes_1_1CollatedPacket.html#ac3dd08d578c2314327f3b016ac566197" title="Add the packet data in packet to the collation buffer.">add()</a></code>.  <a href="#aee0ff0271738100b5a80bc1a527aac03"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#ae9798d4528895ef460f5823709b4b744">Overhead</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte count overhead added by using a <code><a class="el" href="classtes_1_1CollatedPacket.html" title="A utility class which generates a MtCollatedPacket message by appending multiple other messages...">CollatedPacket</a></code>.  <a href="#ae9798d4528895ef460f5823709b4b744"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#ada5273a7ae9bd3d3e610d2b3a66d61ad">InitialCursorOffset</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial cursor position in the write buffer.  <a href="#ada5273a7ae9bd3d3e610d2b3a66d61ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1dfc776aec9ac9219d426a82e7bba15"></a><!-- doxytag: member="tes::CollatedPacket::MaxPacketSize" ref="ab1dfc776aec9ac9219d426a82e7bba15" args="" -->
static const uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1CollatedPacket.html#ab1dfc776aec9ac9219d426a82e7bba15">MaxPacketSize</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The default packet size limit for a <code><a class="el" href="structtes_1_1CollatedPacketMessage.html" title="A packet collation message header.">CollatedPacketMessage</a></code>. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A utility class which generates a <code>MtCollatedPacket</code> message by appending multiple other messages. </p>
<p>Compression may optionally be applied.</p>
<p>Typical usage:</p>
<ul>
<li>Instantiate the packet.</li>
<li>Reset the packet.</li>
<li>For each constituent message<ul>
<li>Generate the packet using <code><a class="el" href="classtes_1_1PacketWriter.html" title="A utility class for writing payload data to a PacketHeader.">PacketWriter</a></code>.</li>
<li>Finalise the message.</li>
<li>Call <code><a class="el" href="classtes_1_1CollatedPacket.html#ac3dd08d578c2314327f3b016ac566197" title="Add the packet data in packet to the collation buffer.">add(const PacketWriter &amp;)</a></code> </li>
</ul>
</li>
<li>Call <code><a class="el" href="classtes_1_1CollatedPacket.html#a168e32275faecfa6478df7ef10931930" title="Finalises the collated packet for sending.">finalise()</a></code> on the collated packet.</li>
<li>Send the collated packet.</li>
<li>Call <code><a class="el" href="classtes_1_1CollatedPacket.html#ac6f4ac557399d2e203832b1190fd49bc" title="Reset the collated packet, dropping any existing data.">reset()</a></code> </li>
</ul>
<p>The <code><a class="el" href="classtes_1_1CollatedPacket.html" title="A utility class which generates a MtCollatedPacket message by appending multiple other messages...">CollatedPacket</a></code> also extends the <code><a class="el" href="classtes_1_1Connection.html" title="Defines the interfaces for a client connection.">Connection</a></code> class in order to support multi-threaded packet generation and synchronisation. While the <code><a class="el" href="classtes_1_1Connection.html" title="Defines the interfaces for a client connection.">Connection</a></code> and <code><a class="el" href="classtes_1_1Connection.html" title="Defines the interfaces for a client connection.">Connection</a></code> implementations are required to be thread-safe, they cannot guarantee packets area correctly collated by thread. Thus a <code><a class="el" href="classtes_1_1CollatedPacket.html" title="A utility class which generates a MtCollatedPacket message by appending multiple other messages...">CollatedPacket</a></code> can be used per thread to collate messages for each thread. The packet content can then be sent as a single transaction.</p>
<p>By supporting the <code><a class="el" href="classtes_1_1Connection.html" title="Defines the interfaces for a client connection.">Connection</a></code> methods, a <code><a class="el" href="classtes_1_1CollatedPacket.html" title="A utility class which generates a MtCollatedPacket message by appending multiple other messages...">CollatedPacket</a></code> can be used in place of a 'server' argument with various server utility macros and functions.</p>
<p>By default, a <code><a class="el" href="classtes_1_1CollatedPacket.html" title="A utility class which generates a MtCollatedPacket message by appending multiple other messages...">CollatedPacket</a></code> has is limited to supporting <code>MaxPacketSize</code> bytes. This allows a single packet with a single <code><a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet.">PacketHeader</a></code> and collated packet message with optional compression. However, when a collated packet is used for transaction collation (as described in the multi-threaded case), it may require collation of larger data sizes. In this case, the <code><a class="el" href="classtes_1_1CollatedPacket.html#a2e97304622f35f822d6598907b28f283" title="Initialise a collated packet allowing packet sizes large than MaxPacketSize.">CollatedPacket(unsigned, unsigned)</a></code> constructor can be used to specify a larger collation buffer limit (the buffer resizes as required). Such large, collated packets are sent using <code><a class="el" href="classtes_1_1Server.html#acd604270ea6ed6866680ae5748ae0021" title="Send a collated packet to all clients.">Server::send(const CollatedPacket &amp;)</a></code>. Internally, the method may either send the packet as is (if small enough), or extract and reprocess each collated packet. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aaa9edd51f514d4e7f6ae2723371907dc"></a><!-- doxytag: member="tes::CollatedPacket::CollatedPacket" ref="aaa9edd51f514d4e7f6ae2723371907dc" args="(bool compress, uint16_t bufferSize=0xff00u)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tes::CollatedPacket::CollatedPacket </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>bufferSize</em> = <code>0xff00u</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialise a collated packet. </p>
<p>This sets the initial packet size limited by <code>MaxPacketSize</code>, and compression options.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">compress</td><td>True to compress data as written. </td></tr>
    <tr><td class="paramname">bufferSize</td><td>The initial bufferSize  Specifying a buffer size too close to 0xffff (even correctly accounting for the expected overhead) results in dropped packets despite the network layer not reporting errors. Likely I'm missing some overhead detail. For now, use a lower packet size. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2e97304622f35f822d6598907b28f283"></a><!-- doxytag: member="tes::CollatedPacket::CollatedPacket" ref="a2e97304622f35f822d6598907b28f283" args="(unsigned bufferSize, unsigned maxPacketSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tes::CollatedPacket::CollatedPacket </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>bufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>maxPacketSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialise a collated packet allowing packet sizes large than <code>MaxPacketSize</code>. </p>
<p>This is intended for collating messages to be send as a group in a thread-safe fashion. The maximum packet size may exceed the normal send limit. As such compression is not allowed to better support splitting.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">bufferSize</td><td>The initial bufferSize </td></tr>
    <tr><td class="paramname">maxPacketSize</td><td>The maximum packet size. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a1f442da66bf08701ed5d7c103a5ff8e2"></a><!-- doxytag: member="tes::CollatedPacket::active" ref="a1f442da66bf08701ed5d7c103a5ff8e2" args="() const override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tes::CollatedPacket::active </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if currently active. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True while active. </dd></dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#a575ab64e03c64d469d4706f823492908">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="ac3dd08d578c2314327f3b016ac566197"></a><!-- doxytag: member="tes::CollatedPacket::add" ref="ac3dd08d578c2314327f3b016ac566197" args="(const PacketWriter &amp;packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tes::CollatedPacket::add </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtes_1_1PacketWriter.html">PacketWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add the packet data in <code>packet</code> to the collation buffer. </p>
<p>The method will fail (return -1) when the <code><a class="el" href="classtes_1_1CollatedPacket.html#a84e54469e8da7f54dcb93785991c5282" title="Return the capacity of the collated packet.">maxPacketSize()</a></code> has been reached. In this case, the packet should be sent and reset before trying again. The method will also fail if the packet has already been finalised using <code><a class="el" href="classtes_1_1CollatedPacket.html#a168e32275faecfa6478df7ef10931930" title="Finalises the collated packet for sending.">finalise()</a></code>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>The packet data to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The <code>packet.packetSize()</code> on success, or -1 on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a444e15a0a723f604fc1c94910c8a9d0a"></a><!-- doxytag: member="tes::CollatedPacket::add" ref="a444e15a0a723f604fc1c94910c8a9d0a" args="(const uint8_t *buffer, uint16_t byteCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tes::CollatedPacket::add </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>byteCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add bytes to the packet. </p>
<p>Use with care as the <code>buffer</code> should always start with a valid <code><a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet.">PacketHeader</a></code> in network byte order. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The data to add. </td></tr>
    <tr><td class="paramname">byteCount</td><td>The number of bytes in <code>buffer</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The <code>packet.packetSize()</code> on success, or -1 on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="af543a30f20ff4a243602c3e1607f604c"></a><!-- doxytag: member="tes::CollatedPacket::address" ref="af543a30f20ff4a243602c3e1607f604c" args="() const override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* tes::CollatedPacket::address </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Identifies the collated packet. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Always "CollatedPacket". </dd></dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#a3e6e967276ac719c69887179057288b9">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="a45f02cbfedc8fadd3bf6da256318011a"></a><!-- doxytag: member="tes::CollatedPacket::buffer" ref="a45f02cbfedc8fadd3bf6da256318011a" args="(unsigned &amp;byteCount) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t* tes::CollatedPacket::buffer </td>
          <td>(</td>
          <td class="paramtype">unsigned &amp;&#160;</td>
          <td class="paramname"><em>byteCount</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Access the internal buffer pointer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">Set</td><td>to the number of used bytes in the collated buffer, including the CRC when the packet has been finalised. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The internal buffer pointer. </dd></dl>

</div>
</div>
<a class="anchor" id="a5b62f99941c3fc3c720b3832892cafb4"></a><!-- doxytag: member="tes::CollatedPacket::collatedBytes" ref="a5b62f99941c3fc3c720b3832892cafb4" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned tes::CollatedPacket::collatedBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the number of bytes that have been collated. </p>
<p>This excludes the <code><a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet.">PacketHeader</a></code> and <code><a class="el" href="structtes_1_1CollatedPacketMessage.html" title="A packet collation message header.">CollatedPacketMessage</a></code>, but will include the CRC once finalised. </p>

</div>
</div>
<a class="anchor" id="a3f97ae6def82543f4f051feda0b778d9"></a><!-- doxytag: member="tes::CollatedPacket::compressionEnabled" ref="a3f97ae6def82543f4f051feda0b778d9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tes::CollatedPacket::compressionEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is compression enabled. </p>
<p>Required ZLIB. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if compression is enabled. </dd></dl>

</div>
</div>
<a class="anchor" id="a20b1e09c0bc25cbb2673a61d2a3de550"></a><!-- doxytag: member="tes::CollatedPacket::create" ref="a20b1e09c0bc25cbb2673a61d2a3de550" args="(const Shape &amp;shape) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tes::CollatedPacket::create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtes_1_1Shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape</em></td><td>)</td>
          <td><code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Collated the create message for <code>shape</code>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">shape</td><td>The shape of interest. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes added, or -1 on failure (as per <code><a class="el" href="classtes_1_1CollatedPacket.html#ac3dd08d578c2314327f3b016ac566197" title="Add the packet data in packet to the collation buffer.">add()</a></code>). </dd></dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#a36a1cb106e995637af342cebb9322304">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="a9401b42335c315f2257b1201101ff646"></a><!-- doxytag: member="tes::CollatedPacket::destroy" ref="a9401b42335c315f2257b1201101ff646" args="(const Shape &amp;shape) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tes::CollatedPacket::destroy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtes_1_1Shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape</em></td><td>)</td>
          <td><code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Collated the update message for <code>shape</code>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">shape</td><td>The shape of interest. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes added, or -1 on failure (as per <code><a class="el" href="classtes_1_1CollatedPacket.html#ac3dd08d578c2314327f3b016ac566197" title="Add the packet data in packet to the collation buffer.">add()</a></code>). </dd></dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#a85e88c8239bdb84a92cce3f9f5d64162">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="a168e32275faecfa6478df7ef10931930"></a><!-- doxytag: member="tes::CollatedPacket::finalise" ref="a168e32275faecfa6478df7ef10931930" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tes::CollatedPacket::finalise </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finalises the collated packet for sending. </p>
<p>This includes completing compression and calculating the CRC. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True on successful finalisation, false when already finalised. </dd></dl>

</div>
</div>
<a class="anchor" id="aedb7ee12f0eb02ecd1ae7e1fbeb79fb7"></a><!-- doxytag: member="tes::CollatedPacket::isConnected" ref="aedb7ee12f0eb02ecd1ae7e1fbeb79fb7" args="() const override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tes::CollatedPacket::isConnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Always connected. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True. </dd></dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#acf8d6c5af91ecae1cd3c2679fd4b1516">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="a84e54469e8da7f54dcb93785991c5282"></a><!-- doxytag: member="tes::CollatedPacket::maxPacketSize" ref="a84e54469e8da7f54dcb93785991c5282" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned tes::CollatedPacket::maxPacketSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the capacity of the collated packet. </p>
<p>This defaults to 64 * 1024 - 1 (the maximum for a 16-bit unsigned integer), when using the constructor: <code>CollatedPacket(bool, unsigned)</code>. It may be larger when using the <code><a class="el" href="classtes_1_1CollatedPacket.html#a2e97304622f35f822d6598907b28f283" title="Initialise a collated packet allowing packet sizes large than MaxPacketSize.">CollatedPacket(unsigned, unsigned)</a></code> constructor. See that constructor and class notes for details.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The maximum packet capacity or 0xffffffffu if the packet size is variable. </dd></dl>

</div>
</div>
<a class="anchor" id="a8bfb10c7f6f6dee8b1b1867bfab9846e"></a><!-- doxytag: member="tes::CollatedPacket::port" ref="a8bfb10c7f6f6dee8b1b1867bfab9846e" args="() const override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t tes::CollatedPacket::port </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Not supported. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero. </dd></dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#a21494b29ce1943baae1a89663af53b3e">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="a93e08139bd315d7bd5bad8835ad90a34"></a><!-- doxytag: member="tes::CollatedPacket::referenceResource" ref="a93e08139bd315d7bd5bad8835ad90a34" args="(const Resource *resource) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned tes::CollatedPacket::referenceResource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtes_1_1Resource.html">Resource</a> *&#160;</td>
          <td class="paramname"><em>resource</em></td><td>)</td>
          <td><code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Not supported. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0; </dd></dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#a0daed0900872bd41451b61f80d5fe545">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="a08b6ab0a46a34e39158a770786bc9cc7"></a><!-- doxytag: member="tes::CollatedPacket::releaseResource" ref="a08b6ab0a46a34e39158a770786bc9cc7" args="(const Resource *resource) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned tes::CollatedPacket::releaseResource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtes_1_1Resource.html">Resource</a> *&#160;</td>
          <td class="paramname"><em>resource</em></td><td>)</td>
          <td><code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Not supported. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0; </dd></dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#a3cb88d8778f3811f9c37bfcc827e34ef">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="aee0ff0271738100b5a80bc1a527aac03"></a><!-- doxytag: member="tes::CollatedPacket::send" ref="aee0ff0271738100b5a80bc1a527aac03" args="(const uint8_t *data, int byteCount) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tes::CollatedPacket::send </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>byteCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Aliased to <code><a class="el" href="classtes_1_1CollatedPacket.html#ac3dd08d578c2314327f3b016ac566197" title="Add the packet data in packet to the collation buffer.">add()</a></code>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The data to add. </td></tr>
    <tr><td class="paramname">bufferSize</td><td>The number of bytes in <code>buffer</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The <code>packet.packetSize()</code> on success, or -1 on failure. </dd></dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#a8008482993204ade9cdb166e6de2fdbf">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="a2e9869fdfc5669f3fb56f886ad6c0966"></a><!-- doxytag: member="tes::CollatedPacket::sendServerInfo" ref="a2e9869fdfc5669f3fb56f886ad6c0966" args="(const ServerInfoMessage &amp;info) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tes::CollatedPacket::sendServerInfo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtes_1_1ServerInfoMessage.html">ServerInfoMessage</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td><code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Collated the create message for <code>shape</code>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">shape</td><td>The shape of interest. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes added, or -1 on failure (as per <code><a class="el" href="classtes_1_1CollatedPacket.html#ac3dd08d578c2314327f3b016ac566197" title="Add the packet data in packet to the collation buffer.">add()</a></code>). </dd></dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#adb52e4f140c7f67527cfa01b5b32af6a">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="a4ddfdc4023544f9fe9786c2dbb155c49"></a><!-- doxytag: member="tes::CollatedPacket::setActive" ref="a4ddfdc4023544f9fe9786c2dbb155c49" args="(bool active) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tes::CollatedPacket::setActive </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>active</em></td><td>)</td>
          <td><code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable/disable the connection. </p>
<p>While disabled, messages are ignored. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">active</td><td>The active state to set. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#a3fd8c15884351639e92528240ac289bd">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="aac686c68b697789e8ac70d5f0ac05989"></a><!-- doxytag: member="tes::CollatedPacket::update" ref="aac686c68b697789e8ac70d5f0ac05989" args="(const Shape &amp;shape) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tes::CollatedPacket::update </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtes_1_1Shape.html">Shape</a> &amp;&#160;</td>
          <td class="paramname"><em>shape</em></td><td>)</td>
          <td><code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Collated the destroy message for <code>shape</code>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">shape</td><td>The shape of interest. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes added, or -1 on failure (as per <code><a class="el" href="classtes_1_1CollatedPacket.html#ac3dd08d578c2314327f3b016ac566197" title="Add the packet data in packet to the collation buffer.">add()</a></code>). </dd></dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#abdd41d0c2019c5e6fc39f4a904597df2">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="ab183657e8d2c375ee06fa8b5d44605cd"></a><!-- doxytag: member="tes::CollatedPacket::updateFrame" ref="ab183657e8d2c375ee06fa8b5d44605cd" args="(float dt, bool flush=true) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tes::CollatedPacket::updateFrame </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flush</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Not supported. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>Ignored. </td></tr>
    <tr><td class="paramname">flush</td><td>Ignored. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#a9a515c687dea47c88c1d271331022bab">tes::Connection</a>.</p>

</div>
</div>
<a class="anchor" id="ab25ce21d62a3a9c9175f743999fb68cd"></a><!-- doxytag: member="tes::CollatedPacket::updateTransfers" ref="ab25ce21d62a3a9c9175f743999fb68cd" args="(unsigned byteLimit) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tes::CollatedPacket::updateTransfers </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>byteLimit</em></td><td>)</td>
          <td><code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Not supported. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">byteLimit</td><td>Ignored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1. </dd></dl>

<p>Implements <a class="el" href="classtes_1_1Connection.html#aa4e0338084335a2001c634023e6f19ba">tes::Connection</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ada5273a7ae9bd3d3e610d2b3a66d61ad"></a><!-- doxytag: member="tes::CollatedPacket::InitialCursorOffset" ref="ada5273a7ae9bd3d3e610d2b3a66d61ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="classtes_1_1CollatedPacket.html#ada5273a7ae9bd3d3e610d2b3a66d61ad">tes::CollatedPacket::InitialCursorOffset</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initial cursor position in the write buffer. </p>
<p>This is the sum of <code><a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet.">PacketHeader</a></code>, <code><a class="el" href="structtes_1_1CollatedPacketMessage.html" title="A packet collation message header.">CollatedPacketMessage</a></code>. </p>

</div>
</div>
<a class="anchor" id="ae9798d4528895ef460f5823709b4b744"></a><!-- doxytag: member="tes::CollatedPacket::Overhead" ref="ae9798d4528895ef460f5823709b4b744" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t <a class="el" href="classtes_1_1CollatedPacket.html#ae9798d4528895ef460f5823709b4b744">tes::CollatedPacket::Overhead</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Byte count overhead added by using a <code><a class="el" href="classtes_1_1CollatedPacket.html" title="A utility class which generates a MtCollatedPacket message by appending multiple other messages...">CollatedPacket</a></code>. </p>
<p>This is the sum of <code><a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet.">PacketHeader</a></code>, <code><a class="el" href="structtes_1_1CollatedPacketMessage.html" title="A packet collation message header.">CollatedPacketMessage</a></code> and the <code><a class="el" href="classtes_1_1PacketStream.html#a86786079cd197b03966585a7cc0c9ffe" title="Defies the packet CRC type.">PacketWriter::CrcType</a></code>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="3escollatedpacket_8h_source.html">3escollatedpacket.h</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacetes.html">tes</a>      </li>
      <li class="navelem"><a class="el" href="classtes_1_1CollatedPacket.html">CollatedPacket</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
