<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>3rd Eye Scene: MeshResource Messages</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">3rd Eye Scene</div>
   <div id="projectbrief">3rd Eye Scene documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__meshmsg.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">MeshResource Messages</div>  </div>
<div class="ingroups"><a class="el" href="group__tescpp.html">C++ Interface</a></div></div>
<div class="contents">

<p>Defines the set of messages used to construct mesh objects.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtes_1_1MeshCreateMessage.html">tes::MeshCreateMessage</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classtes_1_1MeshResource.html" title="Represents a mesh part or object.">MeshResource</a> creation message.  <a href="structtes_1_1MeshCreateMessage.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtes_1_1MeshRedefineMessage.html">tes::MeshRedefineMessage</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classtes_1_1MeshResource.html" title="Represents a mesh part or object.">MeshResource</a> redefinition message.  <a href="structtes_1_1MeshRedefineMessage.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtes_1_1MeshDestroyMessage.html">tes::MeshDestroyMessage</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classtes_1_1MeshResource.html" title="Represents a mesh part or object.">MeshResource</a> destruction message.  <a href="structtes_1_1MeshDestroyMessage.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtes_1_1MeshComponentMessage.html">tes::MeshComponentMessage</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Message structure for adding vertices, colours, indices, or UVs.  <a href="structtes_1_1MeshComponentMessage.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtes_1_1Material.html">tes::Material</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Not ready for use.  <a href="structtes_1_1Material.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtes_1_1MeshFinaliseMessage.html">tes::MeshFinaliseMessage</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Message to finalise a mesh, ready for use.  <a href="structtes_1_1MeshFinaliseMessage.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__meshmsg.html#ga0caf08cdbaf307f91e3daf69088ea95f">tes::MeshBuildFlags</a> { <a class="el" href="group__meshmsg.html#gga0caf08cdbaf307f91e3daf69088ea95fac8704021282fb9d1737cb21440439519">tes::MbfCalculateNormals</a> =  (1&lt;&lt;0)
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The set of valid flags used in finalise messages.  <a href="group__meshmsg.html#ga0caf08cdbaf307f91e3daf69088ea95f">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__meshmsg.html#gacc5a8ff56ea8b1df2161a941be9a63ef">tes::MeshMessageType</a> { <br/>
&#160;&#160;<b>MmtInvalid</b>, 
<b>MmtDestroy</b>, 
<b>MmtCreate</b>, 
<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa99ed5461e98b2be99c7790bae94cdd9b">tes::MmtVertex</a>, 
<br/>
&#160;&#160;<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa6bbd98803ff08f80bd4ce2df4d689df0">tes::MmtIndex</a>, 
<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa7adb31469693aa80ccef80fa5687e1c2">tes::MmtVertexColour</a>, 
<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa30b561a4ed8aca73cb6cbd0d033028f7">tes::MmtNormal</a>, 
<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa9858a05bf7dbb4f616119becc5ee340b">tes::MmtUv</a>, 
<br/>
&#160;&#160;<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa7d6e1d7acac7a54c37365697f96f290c">tes::MmtSetMaterial</a>, 
<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa86a8ccdde020d455aa6b5f057db3febf">tes::MmtRedefine</a>, 
<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efaaeb3618890b3ca0177823396210d31cc">tes::MmtFinalise</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the messageIDs for mesh message routing.  <a href="group__meshmsg.html#gacc5a8ff56ea8b1df2161a941be9a63ef">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__meshmsg.html#gab5582c6d384194a428a8253685ad55e1">tes::DrawType</a> { <b>DtPoints</b>, 
<b>DtLines</b>, 
<b>DtTriangles</b>, 
<a class="el" href="group__meshmsg.html#ggab5582c6d384194a428a8253685ad55e1a3981e43103d88554956ca0175587d210">tes::DtVoxels</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the primitives for a mesh.  <a href="group__meshmsg.html#gab5582c6d384194a428a8253685ad55e1">More...</a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Defines the set of messages used to construct mesh objects. </p>
<p>A mesh object is defined via a series of messages. This allows meshes to be defined over a number of updates, limiting per frame communications.</p>
<p>MeshResource instantiation supports the following messages:</p>
<ul>
<li>Create : instantiates a new, empty mesh object and the draw type.</li>
<li>Destroy : destroys an existing mesh object.</li>
<li>Vertex : adds vertices to a mesh object.</li>
<li>Vertex colour : adds vertex colours.</li>
<li>Index : Defines the vertex indices. Usage depends on draw type.</li>
<li>Normal : adds normals.</li>
<li>UV : Adds UV coordinates.</li>
<li>Set material : Sets the material for the mesh object.</li>
<li>Finalise : Finalises the mesh object.</li>
</ul>
<p>Within a <code>PacketHeader</code>, the mesh message is arranged as follows:</p>
<ul>
<li>PacketHeader header</li>
<li>uint16 Message type = <code>MtMesh</code> </li>
<li>uint16 <code>MeshMessageType</code> </li>
</ul>
<p>A valid mesh definition requires at least the following messages: Create, Vertex, Index, Finalise. Additional vertex streams, normals, etc can be added with the complete set of messages.</p>
<p>Each mesh definition specifies one of the following draw modes or primitive types:</p>
<ul>
<li>DtPoints</li>
<li>DtLines</li>
<li>DtLineLoop</li>
<li>DtLineStrip</li>
<li>DtTriangles</li>
<li>DtTriangleStrip</li>
<li>DtTriangleFan</li>
</ul>
<p>A mesh object defined through the <code>MeshHandler</code> doe snot support any child or sub-objects. These sorts of relationships are defined in the mesh renderer.</p>
<dl class="user"><dt><b>Message Formats</b></dt><dd>| Message | Data Type | Semantics | | --------- | ---------- | -------------------------------------- | | Create | uint32 | Unique mesh ID | | | uint32 | Vertex count | | | uint32 | Index count | | | uint8 | Draw type | | | uint32 | MeshResource tint | | | float32[3] | Position part of the mesh transform | | | float32[4] | Quaternion rotation for mesh transform | | | float32[3] | Scale factor part of mesh transform | | Destroy | uint32 | MeshResource ID | | Finalise | uint32 | MeshResource ID | | Component | uint32 | MeshResource ID | | | uint32 | Offset of the first data item | | | uint32 | Reserved (e.g., stream index support) | | | uint16 | Count | | | element* | Array of count elements. Type varies. | | Material | uint32 | MeshResource ID | | | uint32 | Material ID |</dd></dl>
<p>The <code>Component</code> message above refers to of the data content messages. The offset specicifies the first index of the incomping data, which allows the data streams to be sent in blocks. The element type matches the component type as follows:</p>
<p>| Component Message | Element type | | ----------------- | -------------------- | | Vertex | 32-bit float triples | | Vertex colour | 32-bit uint | | Index | 32-bit uint | | Normal | 32-bit float triples | | UV | 32-bit float pairs |</p>
<p>By default, one of the following materials are chosen:</p>
<ul>
<li>Lit with vertex colour if normals are specified or calculated.</li>
<li>Unlit with vertex colour otherwise. Vertex colours are initialised to white. </li>
</ul>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gab5582c6d384194a428a8253685ad55e1"></a><!-- doxytag: member="tes::DrawType" ref="gab5582c6d384194a428a8253685ad55e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__meshmsg.html#gab5582c6d384194a428a8253685ad55e1">tes::DrawType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Defines the primitives for a mesh. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggab5582c6d384194a428a8253685ad55e1a3981e43103d88554956ca0175587d210"></a><!-- doxytag: member="DtVoxels" ref="ggab5582c6d384194a428a8253685ad55e1a3981e43103d88554956ca0175587d210" args="" -->DtVoxels</em>&nbsp;</td><td>
<p>Geometry shader based voxels. Vertices define the voxel centres, the normals define half extents. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0caf08cdbaf307f91e3daf69088ea95f"></a><!-- doxytag: member="tes::MeshBuildFlags" ref="ga0caf08cdbaf307f91e3daf69088ea95f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__meshmsg.html#ga0caf08cdbaf307f91e3daf69088ea95f">tes::MeshBuildFlags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The set of valid flags used in finalise messages. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga0caf08cdbaf307f91e3daf69088ea95fac8704021282fb9d1737cb21440439519"></a><!-- doxytag: member="MbfCalculateNormals" ref="gga0caf08cdbaf307f91e3daf69088ea95fac8704021282fb9d1737cb21440439519" args="" -->MbfCalculateNormals</em>&nbsp;</td><td>
<p>Calculate normals. Overwrites normals if present. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="gacc5a8ff56ea8b1df2161a941be9a63ef"></a><!-- doxytag: member="tes::MeshMessageType" ref="gacc5a8ff56ea8b1df2161a941be9a63ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__meshmsg.html#gacc5a8ff56ea8b1df2161a941be9a63ef">tes::MeshMessageType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Defines the messageIDs for mesh message routing. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggacc5a8ff56ea8b1df2161a941be9a63efa99ed5461e98b2be99c7790bae94cdd9b"></a><!-- doxytag: member="MmtVertex" ref="ggacc5a8ff56ea8b1df2161a941be9a63efa99ed5461e98b2be99c7790bae94cdd9b" args="" -->MmtVertex</em>&nbsp;</td><td>
<p>Add vertices. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggacc5a8ff56ea8b1df2161a941be9a63efa6bbd98803ff08f80bd4ce2df4d689df0"></a><!-- doxytag: member="MmtIndex" ref="ggacc5a8ff56ea8b1df2161a941be9a63efa6bbd98803ff08f80bd4ce2df4d689df0" args="" -->MmtIndex</em>&nbsp;</td><td>
<p>Add indices. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggacc5a8ff56ea8b1df2161a941be9a63efa7adb31469693aa80ccef80fa5687e1c2"></a><!-- doxytag: member="MmtVertexColour" ref="ggacc5a8ff56ea8b1df2161a941be9a63efa7adb31469693aa80ccef80fa5687e1c2" args="" -->MmtVertexColour</em>&nbsp;</td><td>
<p>Add vertex colours. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggacc5a8ff56ea8b1df2161a941be9a63efa30b561a4ed8aca73cb6cbd0d033028f7"></a><!-- doxytag: member="MmtNormal" ref="ggacc5a8ff56ea8b1df2161a941be9a63efa30b561a4ed8aca73cb6cbd0d033028f7" args="" -->MmtNormal</em>&nbsp;</td><td>
<p>Add normals. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggacc5a8ff56ea8b1df2161a941be9a63efa9858a05bf7dbb4f616119becc5ee340b"></a><!-- doxytag: member="MmtUv" ref="ggacc5a8ff56ea8b1df2161a941be9a63efa9858a05bf7dbb4f616119becc5ee340b" args="" -->MmtUv</em>&nbsp;</td><td>
<p>Add UV coordinates. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggacc5a8ff56ea8b1df2161a941be9a63efa7d6e1d7acac7a54c37365697f96f290c"></a><!-- doxytag: member="MmtSetMaterial" ref="ggacc5a8ff56ea8b1df2161a941be9a63efa7d6e1d7acac7a54c37365697f96f290c" args="" -->MmtSetMaterial</em>&nbsp;</td><td>
<p>Define the material for this mesh. </p>
<p>Extension. NYI. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggacc5a8ff56ea8b1df2161a941be9a63efa86a8ccdde020d455aa6b5f057db3febf"></a><!-- doxytag: member="MmtRedefine" ref="ggacc5a8ff56ea8b1df2161a941be9a63efa86a8ccdde020d455aa6b5f057db3febf" args="" -->MmtRedefine</em>&nbsp;</td><td>
<p>Redefine the core aspects of the mesh. </p>
<p>This invalidates the mesh requiring re-finalisation, but allows the creation parameters to be redefined. Component messages (vertex, index, colour, etc) can also be changed after this message, but before a second <code>MmtFinalise</code>. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggacc5a8ff56ea8b1df2161a941be9a63efaaeb3618890b3ca0177823396210d31cc"></a><!-- doxytag: member="MmtFinalise" ref="ggacc5a8ff56ea8b1df2161a941be9a63efaaeb3618890b3ca0177823396210d31cc" args="" -->MmtFinalise</em>&nbsp;</td><td>
<p>Finalise and build the mesh. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
