<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>3rd Eye Scene: MeshResource Messages</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">3rd Eye Scene
   </div>
   <div id="projectbrief">3rd Eye Scene documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__meshmsg.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">MeshResource Messages<div class="ingroups"><a class="el" href="group__tescpp.html">C++ Interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines the set of messages used to construct mesh objects.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtes_1_1MeshCreateMessage.html">tes::MeshCreateMessage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classtes_1_1MeshResource.html" title="Represents a mesh part or object. ">MeshResource</a> creation message.  <a href="structtes_1_1MeshCreateMessage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtes_1_1MeshRedefineMessage.html">tes::MeshRedefineMessage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classtes_1_1MeshResource.html" title="Represents a mesh part or object. ">MeshResource</a> redefinition message.  <a href="structtes_1_1MeshRedefineMessage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtes_1_1MeshDestroyMessage.html">tes::MeshDestroyMessage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classtes_1_1MeshResource.html" title="Represents a mesh part or object. ">MeshResource</a> destruction message.  <a href="structtes_1_1MeshDestroyMessage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtes_1_1MeshComponentMessage.html">tes::MeshComponentMessage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message structure for adding vertices, colours, indices, or UVs.  <a href="structtes_1_1MeshComponentMessage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtes_1_1Material.html">tes::Material</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Not ready for use.  <a href="structtes_1_1Material.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtes_1_1MeshFinaliseMessage.html">tes::MeshFinaliseMessage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message to finalise a mesh, ready for use.  <a href="structtes_1_1MeshFinaliseMessage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga0caf08cdbaf307f91e3daf69088ea95f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__meshmsg.html#ga0caf08cdbaf307f91e3daf69088ea95f">tes::MeshBuildFlags</a> { <a class="el" href="group__meshmsg.html#gga0caf08cdbaf307f91e3daf69088ea95fac8704021282fb9d1737cb21440439519">tes::MbfCalculateNormals</a> = (1&lt;&lt;0)
 }<tr class="memdesc:ga0caf08cdbaf307f91e3daf69088ea95f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The set of valid flags used in finalise messages.  <a href="group__meshmsg.html#ga0caf08cdbaf307f91e3daf69088ea95f">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga0caf08cdbaf307f91e3daf69088ea95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc5a8ff56ea8b1df2161a941be9a63ef"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__meshmsg.html#gacc5a8ff56ea8b1df2161a941be9a63ef">tes::MeshMessageType</a> { <br />
&#160;&#160;<b>MmtInvalid</b>, 
<b>MmtDestroy</b>, 
<b>MmtCreate</b>, 
<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa99ed5461e98b2be99c7790bae94cdd9b">tes::MmtVertex</a>, 
<br />
&#160;&#160;<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa6bbd98803ff08f80bd4ce2df4d689df0">tes::MmtIndex</a>, 
<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa7adb31469693aa80ccef80fa5687e1c2">tes::MmtVertexColour</a>, 
<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa30b561a4ed8aca73cb6cbd0d033028f7">tes::MmtNormal</a>, 
<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa9858a05bf7dbb4f616119becc5ee340b">tes::MmtUv</a>, 
<br />
&#160;&#160;<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa7d6e1d7acac7a54c37365697f96f290c">tes::MmtSetMaterial</a>, 
<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efa86a8ccdde020d455aa6b5f057db3febf">tes::MmtRedefine</a>, 
<a class="el" href="group__meshmsg.html#ggacc5a8ff56ea8b1df2161a941be9a63efaaeb3618890b3ca0177823396210d31cc">tes::MmtFinalise</a>
<br />
 }<tr class="memdesc:gacc5a8ff56ea8b1df2161a941be9a63ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the messageIDs for mesh message routing.  <a href="group__meshmsg.html#gacc5a8ff56ea8b1df2161a941be9a63ef">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gacc5a8ff56ea8b1df2161a941be9a63ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5582c6d384194a428a8253685ad55e1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__meshmsg.html#gab5582c6d384194a428a8253685ad55e1">tes::DrawType</a> { <b>DtPoints</b>, 
<b>DtLines</b>, 
<b>DtTriangles</b>, 
<a class="el" href="group__meshmsg.html#ggab5582c6d384194a428a8253685ad55e1a3981e43103d88554956ca0175587d210">tes::DtVoxels</a>
 }<tr class="memdesc:gab5582c6d384194a428a8253685ad55e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the primitives for a mesh.  <a href="group__meshmsg.html#gab5582c6d384194a428a8253685ad55e1">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gab5582c6d384194a428a8253685ad55e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Defines the set of messages used to construct mesh objects. </p>
<p>A mesh object is defined via a series of messages. This allows meshes to be defined over a number of updates, limiting per frame communications.</p>
<p>MeshResource instantiation supports the following messages:</p><ul>
<li>Create : instantiates a new, empty mesh object and the draw type.</li>
<li>Destroy : destroys an existing mesh object.</li>
<li>Vertex : adds vertices to a mesh object.</li>
<li>Vertex colour : adds vertex colours.</li>
<li>Index : Defines the vertex indices. Usage depends on draw type.</li>
<li>Normal : adds normals.</li>
<li>UV : Adds UV coordinates.</li>
<li>Set material : Sets the material for the mesh object.</li>
<li>Finalise : Finalises the mesh object.</li>
</ul>
<p>Within a <code>PacketHeader</code>, the mesh message is arranged as follows:</p><ul>
<li>PacketHeader header</li>
<li>uint16 Message type = <code>MtMesh</code> </li>
<li>uint16 <code>MeshMessageType</code> </li>
</ul>
<p>A valid mesh definition requires at least the following messages: Create, Vertex, Index, Finalise. Additional vertex streams, normals, etc can be added with the complete set of messages.</p>
<p>Each mesh definition specifies one of the following draw modes or primitive types:</p><ul>
<li>DtPoints</li>
<li>DtLines</li>
<li>DtLineLoop</li>
<li>DtLineStrip</li>
<li>DtTriangles</li>
<li>DtTriangleStrip</li>
<li>DtTriangleFan</li>
</ul>
<p>A mesh object defined through the <code>MeshHandler</code> doe snot support any child or sub-objects. These sorts of relationships are defined in the mesh renderer.</p>
<dl class="section user"><dt>Message Formats</dt><dd><table class="doxtable">
<tr>
<th>Message </th><th>Data Type </th><th>Semantics  </th></tr>
<tr>
<td>Create </td><td>uint32 </td><td>Unique mesh ID </td></tr>
<tr>
<td></td><td>uint32 </td><td>Vertex count </td></tr>
<tr>
<td></td><td>uint32 </td><td>Index count </td></tr>
<tr>
<td></td><td>uint8 </td><td>Draw type </td></tr>
<tr>
<td></td><td>uint32 </td><td>MeshResource tint </td></tr>
<tr>
<td></td><td>float32[3] </td><td>Position part of the mesh transform </td></tr>
<tr>
<td></td><td>float32[4] </td><td>Quaternion rotation for mesh transform </td></tr>
<tr>
<td></td><td>float32[3] </td><td>Scale factor part of mesh transform </td></tr>
<tr>
<td>Destroy </td><td>uint32 </td><td>MeshResource ID </td></tr>
<tr>
<td>Finalise </td><td>uint32 </td><td>MeshResource ID </td></tr>
<tr>
<td>Component </td><td>uint32 </td><td>MeshResource ID </td></tr>
<tr>
<td></td><td>uint32 </td><td>Offset of the first data item </td></tr>
<tr>
<td></td><td>uint32 </td><td>Reserved (e.g., stream index support) </td></tr>
<tr>
<td></td><td>uint16 </td><td>Count </td></tr>
<tr>
<td></td><td>element* </td><td>Array of count elements. Type varies. </td></tr>
<tr>
<td>Material </td><td>uint32 </td><td>MeshResource ID </td></tr>
<tr>
<td></td><td>uint32 </td><td>Material ID </td></tr>
</table>
The <code>Component</code> message above refers to of the data content messages. The offset specicifies the first index of the incomping data, which allows the data streams to be sent in blocks. The element type matches the component type as follows:</dd></dl>
<table class="doxtable">
<tr>
<th>Component Message </th><th>Element type  </th></tr>
<tr>
<td>Vertex </td><td>32-bit float triples </td></tr>
<tr>
<td>Vertex colour </td><td>32-bit uint </td></tr>
<tr>
<td>Index </td><td>32-bit uint </td></tr>
<tr>
<td>Normal </td><td>32-bit float triples </td></tr>
<tr>
<td>UV </td><td>32-bit float pairs </td></tr>
</table>
<p>By default, one of the following materials are chosen:</p><ul>
<li>Lit with vertex colour if normals are specified or calculated.</li>
<li>Unlit with vertex colour otherwise. Vertex colours are initialised to white. </li>
</ul>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gab5582c6d384194a428a8253685ad55e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5582c6d384194a428a8253685ad55e1">&#9670;&nbsp;</a></span>DrawType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__meshmsg.html#gab5582c6d384194a428a8253685ad55e1">tes::DrawType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the primitives for a mesh. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab5582c6d384194a428a8253685ad55e1a3981e43103d88554956ca0175587d210"></a>DtVoxels&#160;</td><td class="fielddoc"><p>Geometry shader based voxels. Vertices define the voxel centres, the normals define half extents. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga0caf08cdbaf307f91e3daf69088ea95f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0caf08cdbaf307f91e3daf69088ea95f">&#9670;&nbsp;</a></span>MeshBuildFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__meshmsg.html#ga0caf08cdbaf307f91e3daf69088ea95f">tes::MeshBuildFlags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The set of valid flags used in finalise messages. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga0caf08cdbaf307f91e3daf69088ea95fac8704021282fb9d1737cb21440439519"></a>MbfCalculateNormals&#160;</td><td class="fielddoc"><p>Calculate normals. Overwrites normals if present. </p>
</td></tr>
</table>

</div>
</div>
<a id="gacc5a8ff56ea8b1df2161a941be9a63ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc5a8ff56ea8b1df2161a941be9a63ef">&#9670;&nbsp;</a></span>MeshMessageType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__meshmsg.html#gacc5a8ff56ea8b1df2161a941be9a63ef">tes::MeshMessageType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the messageIDs for mesh message routing. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggacc5a8ff56ea8b1df2161a941be9a63efa99ed5461e98b2be99c7790bae94cdd9b"></a>MmtVertex&#160;</td><td class="fielddoc"><p>Add vertices. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggacc5a8ff56ea8b1df2161a941be9a63efa6bbd98803ff08f80bd4ce2df4d689df0"></a>MmtIndex&#160;</td><td class="fielddoc"><p>Add indices. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggacc5a8ff56ea8b1df2161a941be9a63efa7adb31469693aa80ccef80fa5687e1c2"></a>MmtVertexColour&#160;</td><td class="fielddoc"><p>Add vertex colours. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggacc5a8ff56ea8b1df2161a941be9a63efa30b561a4ed8aca73cb6cbd0d033028f7"></a>MmtNormal&#160;</td><td class="fielddoc"><p>Add normals. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggacc5a8ff56ea8b1df2161a941be9a63efa9858a05bf7dbb4f616119becc5ee340b"></a>MmtUv&#160;</td><td class="fielddoc"><p>Add UV coordinates. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggacc5a8ff56ea8b1df2161a941be9a63efa7d6e1d7acac7a54c37365697f96f290c"></a>MmtSetMaterial&#160;</td><td class="fielddoc"><p>Define the material for this mesh. </p>
<p>Extension. NYI. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggacc5a8ff56ea8b1df2161a941be9a63efa86a8ccdde020d455aa6b5f057db3febf"></a>MmtRedefine&#160;</td><td class="fielddoc"><p>Redefine the core aspects of the mesh. </p>
<p>This invalidates the mesh requiring re-finalisation, but allows the creation parameters to be redefined. Component messages (vertex, index, colour, etc) can also be changed after this message, but before a second <code>MmtFinalise</code>. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggacc5a8ff56ea8b1df2161a941be9a63efaaeb3618890b3ca0177823396210d31cc"></a>MmtFinalise&#160;</td><td class="fielddoc"><p>Finalise and build the mesh. </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
