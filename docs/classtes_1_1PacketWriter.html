<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>3rd Eye Scene: tes::PacketWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">3rd Eye Scene
   </div>
   <div id="projectbrief">3rd Eye Scene documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classtes_1_1PacketWriter.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classtes_1_1PacketWriter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tes::PacketWriter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A utility class for writing payload data to a <code><a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet. ">PacketHeader</a></code>.  
 <a href="classtes_1_1PacketWriter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="3espacketwriter_8h_source.html">3espacketwriter.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for tes::PacketWriter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classtes_1_1PacketWriter.png" usemap="#tes::PacketWriter_map" alt=""/>
  <map id="tes::PacketWriter_map" name="tes::PacketWriter_map">
<area href="classtes_1_1PacketStream.html" alt="tes::PacketStream&lt; PacketHeader &gt;" shape="rect" coords="0,0,215,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab18b3d8f42edba797b17b50f3577a791"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#ab18b3d8f42edba797b17b50f3577a791">PacketWriter</a> (<a class="el" href="structtes_1_1PacketHeader.html">PacketHeader</a> &amp;packet, uint16_t <a class="el" href="classtes_1_1PacketWriter.html#a28035c55f31e019b46d338e72ed3b8ef">maxPayloadSize</a>, uint16_t <a class="el" href="classtes_1_1PacketStream.html#a220f8a3249dc20b07f8f5fbbc20ca45b">routingId</a>=0, uint16_t <a class="el" href="classtes_1_1PacketStream.html#ac3e574441f8707b3487289a3445d4142">messageId</a>=0)</td></tr>
<tr class="memdesc:ab18b3d8f42edba797b17b50f3577a791"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <code><a class="el" href="classtes_1_1PacketWriter.html" title="A utility class for writing payload data to a PacketHeader. ">PacketWriter</a></code> to write to the given <code>packet</code>.  <a href="#ab18b3d8f42edba797b17b50f3577a791">More...</a><br /></td></tr>
<tr class="separator:ab18b3d8f42edba797b17b50f3577a791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a4645e149622aef5cd9e6eaafb9e48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#af2a4645e149622aef5cd9e6eaafb9e48">PacketWriter</a> (uint8_t *buffer, uint16_t bufferSize, uint16_t <a class="el" href="classtes_1_1PacketStream.html#a220f8a3249dc20b07f8f5fbbc20ca45b">routingId</a>=0, uint16_t <a class="el" href="classtes_1_1PacketStream.html#ac3e574441f8707b3487289a3445d4142">messageId</a>=0)</td></tr>
<tr class="memdesc:af2a4645e149622aef5cd9e6eaafb9e48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <code><a class="el" href="classtes_1_1PacketWriter.html" title="A utility class for writing payload data to a PacketHeader. ">PacketWriter</a></code> to write to the given byte buffer.  <a href="#af2a4645e149622aef5cd9e6eaafb9e48">More...</a><br /></td></tr>
<tr class="separator:af2a4645e149622aef5cd9e6eaafb9e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871feef1eded8c54f334ede292da1729"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#a871feef1eded8c54f334ede292da1729">PacketWriter</a> (const <a class="el" href="classtes_1_1PacketWriter.html">PacketWriter</a> &amp;other)</td></tr>
<tr class="memdesc:a871feef1eded8c54f334ede292da1729"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor.  <a href="#a871feef1eded8c54f334ede292da1729">More...</a><br /></td></tr>
<tr class="separator:a871feef1eded8c54f334ede292da1729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610b3612c1d888e2ef344bf71b7d9b3f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a610b3612c1d888e2ef344bf71b7d9b3f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#a610b3612c1d888e2ef344bf71b7d9b3f">~PacketWriter</a> ()</td></tr>
<tr class="memdesc:a610b3612c1d888e2ef344bf71b7d9b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor, ensuring the CRC is calculated. <br /></td></tr>
<tr class="separator:a610b3612c1d888e2ef344bf71b7d9b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d9205cb7bb4d151d238304f6b0bc006"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtes_1_1PacketWriter.html">PacketWriter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#a3d9205cb7bb4d151d238304f6b0bc006">operator=</a> (const <a class="el" href="classtes_1_1PacketWriter.html">PacketWriter</a> &amp;other)</td></tr>
<tr class="memdesc:a3d9205cb7bb4d151d238304f6b0bc006"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator.  <a href="#a3d9205cb7bb4d151d238304f6b0bc006">More...</a><br /></td></tr>
<tr class="separator:a3d9205cb7bb4d151d238304f6b0bc006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2403fbd4f2ef4853bfa9083f31b3386c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#a2403fbd4f2ef4853bfa9083f31b3386c">reset</a> (uint16_t <a class="el" href="classtes_1_1PacketStream.html#a220f8a3249dc20b07f8f5fbbc20ca45b">routingId</a>, uint16_t <a class="el" href="classtes_1_1PacketStream.html#ac3e574441f8707b3487289a3445d4142">messageId</a>)</td></tr>
<tr class="memdesc:a2403fbd4f2ef4853bfa9083f31b3386c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the packet, clearing out all variable data including the payload, crc and routing id.  <a href="#a2403fbd4f2ef4853bfa9083f31b3386c">More...</a><br /></td></tr>
<tr class="separator:a2403fbd4f2ef4853bfa9083f31b3386c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adacf09dcab7be257dc2059148c2cdb99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#adacf09dcab7be257dc2059148c2cdb99">reset</a> ()</td></tr>
<tr class="separator:adacf09dcab7be257dc2059148c2cdb99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf08e95affecbbdeb20d3894aadfa032"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf08e95affecbbdeb20d3894aadfa032"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setRoutingId</b> (uint16_t <a class="el" href="classtes_1_1PacketStream.html#a220f8a3249dc20b07f8f5fbbc20ca45b">routingId</a>)</td></tr>
<tr class="separator:acf08e95affecbbdeb20d3894aadfa032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa88278182924dbc82b9bdf2c6a4ded5a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa88278182924dbc82b9bdf2c6a4ded5a"></a>
<a class="el" href="structtes_1_1PacketHeader.html">PacketHeader</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>packet</b> () const </td></tr>
<tr class="separator:aa88278182924dbc82b9bdf2c6a4ded5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c855bfc8859aa7518933fabcfbb7e2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a30c855bfc8859aa7518933fabcfbb7e2"></a>
const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>data</b> () const </td></tr>
<tr class="separator:a30c855bfc8859aa7518933fabcfbb7e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff7c84e4dc16b44ac38f5df36b19e3c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff7c84e4dc16b44ac38f5df36b19e3c5"></a>
uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>payload</b> ()</td></tr>
<tr class="separator:aff7c84e4dc16b44ac38f5df36b19e3c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79174d99e9466f4817ebf44199683039"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a79174d99e9466f4817ebf44199683039"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>invalidateCrc</b> ()</td></tr>
<tr class="separator:a79174d99e9466f4817ebf44199683039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b4772101e8c074404052c17897fcd2"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#a81b4772101e8c074404052c17897fcd2">bytesRemaining</a> () const </td></tr>
<tr class="memdesc:a81b4772101e8c074404052c17897fcd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of bytes remaining available in the payload.  <a href="#a81b4772101e8c074404052c17897fcd2">More...</a><br /></td></tr>
<tr class="separator:a81b4772101e8c074404052c17897fcd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28035c55f31e019b46d338e72ed3b8ef"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#a28035c55f31e019b46d338e72ed3b8ef">maxPayloadSize</a> () const </td></tr>
<tr class="memdesc:a28035c55f31e019b46d338e72ed3b8ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the payload buffer.  <a href="#a28035c55f31e019b46d338e72ed3b8ef">More...</a><br /></td></tr>
<tr class="separator:a28035c55f31e019b46d338e72ed3b8ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1cfacf0917a1392780302d5e3a1d4ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#af1cfacf0917a1392780302d5e3a1d4ca">finalise</a> ()</td></tr>
<tr class="memdesc:af1cfacf0917a1392780302d5e3a1d4ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalises the packet for sending, calculating the CRC.  <a href="#af1cfacf0917a1392780302d5e3a1d4ca">More...</a><br /></td></tr>
<tr class="separator:af1cfacf0917a1392780302d5e3a1d4ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b60dfd5fa3e1925f34db7d3573a866"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtes_1_1PacketStream.html#a86786079cd197b03966585a7cc0c9ffe">CrcType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#ab1b60dfd5fa3e1925f34db7d3573a866">calculateCrc</a> ()</td></tr>
<tr class="memdesc:ab1b60dfd5fa3e1925f34db7d3573a866"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the CRC and writes it to the <code><a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet. ">PacketHeader</a></code> crc member.  <a href="#ab1b60dfd5fa3e1925f34db7d3573a866">More...</a><br /></td></tr>
<tr class="separator:ab1b60dfd5fa3e1925f34db7d3573a866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d88d43b9acc2bc84022bdbea155f1e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#a67d88d43b9acc2bc84022bdbea155f1e">writeElement</a> (const uint8_t *bytes, size_t elementSize)</td></tr>
<tr class="memdesc:a67d88d43b9acc2bc84022bdbea155f1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a single data element from the current position.  <a href="#a67d88d43b9acc2bc84022bdbea155f1e">More...</a><br /></td></tr>
<tr class="separator:a67d88d43b9acc2bc84022bdbea155f1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f56e63c059deec646d0e2ea2977bf1"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#ac1f56e63c059deec646d0e2ea2977bf1">writeArray</a> (const uint8_t *bytes, size_t elementSize, size_t elementCount)</td></tr>
<tr class="memdesc:ac1f56e63c059deec646d0e2ea2977bf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an array of data items from the current position.  <a href="#ac1f56e63c059deec646d0e2ea2977bf1">More...</a><br /></td></tr>
<tr class="separator:ac1f56e63c059deec646d0e2ea2977bf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cd9861810d73255c301e02181fcda0c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#a4cd9861810d73255c301e02181fcda0c">writeRaw</a> (const uint8_t *bytes, size_t byteCount)</td></tr>
<tr class="memdesc:a4cd9861810d73255c301e02181fcda0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes raw bytes from the packet at the current position up to <code>byteCount</code>.  <a href="#a4cd9861810d73255c301e02181fcda0c">More...</a><br /></td></tr>
<tr class="separator:a4cd9861810d73255c301e02181fcda0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93fd2765dfdd18c3e2e182a8c35cbcc6"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a93fd2765dfdd18c3e2e182a8c35cbcc6"><td class="memTemplItemLeft" align="right" valign="top">size_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketWriter.html#a93fd2765dfdd18c3e2e182a8c35cbcc6">writeElement</a> (const T &amp;element)</td></tr>
<tr class="memdesc:a93fd2765dfdd18c3e2e182a8c35cbcc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a single data item from the packet.  <a href="#a93fd2765dfdd18c3e2e182a8c35cbcc6">More...</a><br /></td></tr>
<tr class="separator:a93fd2765dfdd18c3e2e182a8c35cbcc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57de3167048820582e9046e786f260d1"><td class="memTemplParams" colspan="2"><a class="anchor" id="a57de3167048820582e9046e786f260d1"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:a57de3167048820582e9046e786f260d1"><td class="memTemplItemLeft" align="right" valign="top">size_t&#160;</td><td class="memTemplItemRight" valign="bottom"><b>writeArray</b> (const T *elements, size_t elementCount)</td></tr>
<tr class="separator:a57de3167048820582e9046e786f260d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf4337471ec1b6d5906023df7499c1eb"><td class="memTemplParams" colspan="2"><a class="anchor" id="adf4337471ec1b6d5906023df7499c1eb"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:adf4337471ec1b6d5906023df7499c1eb"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classtes_1_1PacketWriter.html">PacketWriter</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>operator&gt;&gt;</b> (T &amp;val)</td></tr>
<tr class="separator:adf4337471ec1b6d5906023df7499c1eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classtes_1_1PacketStream"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classtes_1_1PacketStream')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classtes_1_1PacketStream.html">tes::PacketStream&lt; PacketHeader &gt;</a></td></tr>
<tr class="memitem:ac69b9e5865748bfaa322e1c0e1555191 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#ac69b9e5865748bfaa322e1c0e1555191">PacketStream</a> (<a class="el" href="structtes_1_1PacketHeader.html">PacketHeader</a> &amp;<a class="el" href="classtes_1_1PacketStream.html#a5511ffbb747a79f9c6ad6bd45262fb72">packet</a>)</td></tr>
<tr class="memdesc:ac69b9e5865748bfaa322e1c0e1555191 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a stream to read from beginning at <code>packet</code>.  <a href="#ac69b9e5865748bfaa322e1c0e1555191">More...</a><br /></td></tr>
<tr class="separator:ac69b9e5865748bfaa322e1c0e1555191 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a041c4709e25b1734697a2731b70cfab5 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a041c4709e25b1734697a2731b70cfab5">marker</a> () const</td></tr>
<tr class="memdesc:a041c4709e25b1734697a2731b70cfab5 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the marker bytes in local endian.  <a href="#a041c4709e25b1734697a2731b70cfab5">More...</a><br /></td></tr>
<tr class="separator:a041c4709e25b1734697a2731b70cfab5 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c27c049a9be19db9530f1d128cb7af inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a43c27c049a9be19db9530f1d128cb7af">versionMajor</a> () const</td></tr>
<tr class="memdesc:a43c27c049a9be19db9530f1d128cb7af inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the major version bytes in local endian.  <a href="#a43c27c049a9be19db9530f1d128cb7af">More...</a><br /></td></tr>
<tr class="separator:a43c27c049a9be19db9530f1d128cb7af inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ab47aece79cb0a2046cddcc67ba17a inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#ad7ab47aece79cb0a2046cddcc67ba17a">versionMinor</a> () const</td></tr>
<tr class="memdesc:ad7ab47aece79cb0a2046cddcc67ba17a inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the minor version bytes in local endian.  <a href="#ad7ab47aece79cb0a2046cddcc67ba17a">More...</a><br /></td></tr>
<tr class="separator:ad7ab47aece79cb0a2046cddcc67ba17a inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefbee5b6566eb585c4895e4f777de45a inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#aefbee5b6566eb585c4895e4f777de45a">payloadSize</a> () const</td></tr>
<tr class="memdesc:aefbee5b6566eb585c4895e4f777de45a inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the payload size bytes in local endian.  <a href="#aefbee5b6566eb585c4895e4f777de45a">More...</a><br /></td></tr>
<tr class="separator:aefbee5b6566eb585c4895e4f777de45a inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55b5b1f7d1f59a761806584a1166d42 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#af55b5b1f7d1f59a761806584a1166d42">packetSize</a> () const</td></tr>
<tr class="memdesc:af55b5b1f7d1f59a761806584a1166d42 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the packet plus payload, giving the full data packet size including the CRC.  <a href="#af55b5b1f7d1f59a761806584a1166d42">More...</a><br /></td></tr>
<tr class="separator:af55b5b1f7d1f59a761806584a1166d42 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220f8a3249dc20b07f8f5fbbc20ca45b inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a220f8a3249dc20b07f8f5fbbc20ca45b">routingId</a> () const</td></tr>
<tr class="memdesc:a220f8a3249dc20b07f8f5fbbc20ca45b inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the routing ID bytes in local endian.  <a href="#a220f8a3249dc20b07f8f5fbbc20ca45b">More...</a><br /></td></tr>
<tr class="separator:a220f8a3249dc20b07f8f5fbbc20ca45b inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e574441f8707b3487289a3445d4142 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#ac3e574441f8707b3487289a3445d4142">messageId</a> () const</td></tr>
<tr class="memdesc:ac3e574441f8707b3487289a3445d4142 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the message ID bytes in local endian.  <a href="#ac3e574441f8707b3487289a3445d4142">More...</a><br /></td></tr>
<tr class="separator:ac3e574441f8707b3487289a3445d4142 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a522380d8a55f83b45339c3b534fa1886 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtes_1_1PacketStream.html#a86786079cd197b03966585a7cc0c9ffe">CrcType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a522380d8a55f83b45339c3b534fa1886">crc</a> () const</td></tr>
<tr class="memdesc:a522380d8a55f83b45339c3b534fa1886 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the CRC bytes in local endian.  <a href="#a522380d8a55f83b45339c3b534fa1886">More...</a><br /></td></tr>
<tr class="separator:a522380d8a55f83b45339c3b534fa1886 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab84b049afcca7c22ef179fbd093c2ab8 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtes_1_1PacketStream.html#a86786079cd197b03966585a7cc0c9ffe">CrcType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#ab84b049afcca7c22ef179fbd093c2ab8">crcPtr</a> ()</td></tr>
<tr class="memdesc:ab84b049afcca7c22ef179fbd093c2ab8 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch a pointer to the CRC bytes.  <a href="#ab84b049afcca7c22ef179fbd093c2ab8">More...</a><br /></td></tr>
<tr class="separator:ab84b049afcca7c22ef179fbd093c2ab8 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d708ad039e18117dd988760311ecd05 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classtes_1_1PacketStream.html#a86786079cd197b03966585a7cc0c9ffe">CrcType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a5d708ad039e18117dd988760311ecd05">crcPtr</a> () const</td></tr>
<tr class="separator:a5d708ad039e18117dd988760311ecd05 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad777d05f04960ffb04ac0b68bb0f3cc9 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#ad777d05f04960ffb04ac0b68bb0f3cc9">status</a> () const</td></tr>
<tr class="memdesc:ad777d05f04960ffb04ac0b68bb0f3cc9 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report the <code>Status</code> bits.  <a href="#ad777d05f04960ffb04ac0b68bb0f3cc9">More...</a><br /></td></tr>
<tr class="separator:ad777d05f04960ffb04ac0b68bb0f3cc9 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f075d00a55933ceb17a8c9a0bbfa1c2 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a2f075d00a55933ceb17a8c9a0bbfa1c2">isEop</a> () const</td></tr>
<tr class="memdesc:a2f075d00a55933ceb17a8c9a0bbfa1c2 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">At end of packet/stream?  <a href="#a2f075d00a55933ceb17a8c9a0bbfa1c2">More...</a><br /></td></tr>
<tr class="separator:a2f075d00a55933ceb17a8c9a0bbfa1c2 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa60b18c910f3d09d2a30db5d1a1bc807 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#aa60b18c910f3d09d2a30db5d1a1bc807">isOk</a> () const</td></tr>
<tr class="memdesc:aa60b18c910f3d09d2a30db5d1a1bc807 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status OK?  <a href="#aa60b18c910f3d09d2a30db5d1a1bc807">More...</a><br /></td></tr>
<tr class="separator:aa60b18c910f3d09d2a30db5d1a1bc807 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4daabd28c6b84b5752f03d895c54cb2 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#ae4daabd28c6b84b5752f03d895c54cb2">isFail</a> () const</td></tr>
<tr class="memdesc:ae4daabd28c6b84b5752f03d895c54cb2 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fail bit set?  <a href="#ae4daabd28c6b84b5752f03d895c54cb2">More...</a><br /></td></tr>
<tr class="separator:ae4daabd28c6b84b5752f03d895c54cb2 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d0510a96213ede355e1ec7adf43028 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a60d0510a96213ede355e1ec7adf43028">isReadOnly</a> () const</td></tr>
<tr class="memdesc:a60d0510a96213ede355e1ec7adf43028 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read only stream?  <a href="#a60d0510a96213ede355e1ec7adf43028">More...</a><br /></td></tr>
<tr class="separator:a60d0510a96213ede355e1ec7adf43028 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6df312aac38e94dd1053beec3be7158 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#ac6df312aac38e94dd1053beec3be7158">isCrcValid</a> () const</td></tr>
<tr class="memdesc:ac6df312aac38e94dd1053beec3be7158 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">CRC validated?  <a href="#ac6df312aac38e94dd1053beec3be7158">More...</a><br /></td></tr>
<tr class="separator:ac6df312aac38e94dd1053beec3be7158 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5511ffbb747a79f9c6ad6bd45262fb72 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtes_1_1PacketHeader.html">PacketHeader</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a5511ffbb747a79f9c6ad6bd45262fb72">packet</a> () const</td></tr>
<tr class="memdesc:a5511ffbb747a79f9c6ad6bd45262fb72 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the head of the packet buffer, for direct <code>PacketHeader</code> access.  <a href="#a5511ffbb747a79f9c6ad6bd45262fb72">More...</a><br /></td></tr>
<tr class="separator:a5511ffbb747a79f9c6ad6bd45262fb72 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81c98d0b66f8a1bf76bfefb3351c17be inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a81c98d0b66f8a1bf76bfefb3351c17be">tell</a> () const</td></tr>
<tr class="memdesc:a81c98d0b66f8a1bf76bfefb3351c17be inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the current stream position.  <a href="#a81c98d0b66f8a1bf76bfefb3351c17be">More...</a><br /></td></tr>
<tr class="separator:a81c98d0b66f8a1bf76bfefb3351c17be inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a932c36320dec523bdf8617df293da732 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a932c36320dec523bdf8617df293da732">seek</a> (int offset, <a class="el" href="classtes_1_1PacketStream.html#a1a1503c7c30c706fd02b3d8dedbb1772">SeekPos</a> pos=<a class="el" href="classtes_1_1PacketStream.html#a1a1503c7c30c706fd02b3d8dedbb1772ac7ce42acc4eb14db94169478b9ad8c9d">Begin</a>)</td></tr>
<tr class="memdesc:a932c36320dec523bdf8617df293da732 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seek to the indicated position.  <a href="#a932c36320dec523bdf8617df293da732">More...</a><br /></td></tr>
<tr class="separator:a932c36320dec523bdf8617df293da732 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb0efa05f3b9c5220d689e736a31f941 inherit pub_methods_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top">const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#abb0efa05f3b9c5220d689e736a31f941">payload</a> () const</td></tr>
<tr class="memdesc:abb0efa05f3b9c5220d689e736a31f941 inherit pub_methods_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Direct payload pointer access.  <a href="#abb0efa05f3b9c5220d689e736a31f941">More...</a><br /></td></tr>
<tr class="separator:abb0efa05f3b9c5220d689e736a31f941 inherit pub_methods_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1dfd6daf615a5f1e0f17d3cc933835d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1dfd6daf615a5f1e0f17d3cc933835d3"></a>
uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>payloadWritePtr</b> ()</td></tr>
<tr class="separator:a1dfd6daf615a5f1e0f17d3cc933835d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7b30a0f5deb198e846725c70f98c512"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7b30a0f5deb198e846725c70f98c512"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>incrementPayloadSize</b> (size_t inc)</td></tr>
<tr class="separator:ae7b30a0f5deb198e846725c70f98c512"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a20ab3d567265f1d424df3b92c9208794"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20ab3d567265f1d424df3b92c9208794"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>_bufferSize</b></td></tr>
<tr class="separator:a20ab3d567265f1d424df3b92c9208794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classtes_1_1PacketStream"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classtes_1_1PacketStream')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classtes_1_1PacketStream.html">tes::PacketStream&lt; PacketHeader &gt;</a></td></tr>
<tr class="memitem:ab0d510c8c1c97ce4820087ef163dbe67 inherit pro_attribs_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab0d510c8c1c97ce4820087ef163dbe67"></a>
<a class="el" href="structtes_1_1PacketHeader.html">PacketHeader</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#ab0d510c8c1c97ce4820087ef163dbe67">_packet</a></td></tr>
<tr class="memdesc:ab0d510c8c1c97ce4820087ef163dbe67 inherit pro_attribs_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet header and buffer start address. <br /></td></tr>
<tr class="separator:ab0d510c8c1c97ce4820087ef163dbe67 inherit pro_attribs_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a959280fbfcbfb251aef216bf9b044788 inherit pro_attribs_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a959280fbfcbfb251aef216bf9b044788"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a959280fbfcbfb251aef216bf9b044788">_status</a></td></tr>
<tr class="memdesc:a959280fbfcbfb251aef216bf9b044788 inherit pro_attribs_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>Status</code> bits. <br /></td></tr>
<tr class="separator:a959280fbfcbfb251aef216bf9b044788 inherit pro_attribs_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a388a12cc1b2d3a4ff3fe566bcfdccea0 inherit pro_attribs_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a388a12cc1b2d3a4ff3fe566bcfdccea0"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a388a12cc1b2d3a4ff3fe566bcfdccea0">_payloadPosition</a></td></tr>
<tr class="memdesc:a388a12cc1b2d3a4ff3fe566bcfdccea0 inherit pro_attribs_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Payload cursor. <br /></td></tr>
<tr class="separator:a388a12cc1b2d3a4ff3fe566bcfdccea0 inherit pro_attribs_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classtes_1_1PacketStream"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classtes_1_1PacketStream')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classtes_1_1PacketStream.html">tes::PacketStream&lt; PacketHeader &gt;</a></td></tr>
<tr class="memitem:a1a1503c7c30c706fd02b3d8dedbb1772 inherit pub_types_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a1503c7c30c706fd02b3d8dedbb1772"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a1a1503c7c30c706fd02b3d8dedbb1772">SeekPos</a> <tr class="memdesc:a1a1503c7c30c706fd02b3d8dedbb1772"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control values for seeking. <br /></td></tr>
<tr class="separator:a1a1503c7c30c706fd02b3d8dedbb1772 inherit pub_types_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:a4424076bb90e3f85a0d91ab5d3f2ce67 inherit pub_types_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4424076bb90e3f85a0d91ab5d3f2ce67"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a4424076bb90e3f85a0d91ab5d3f2ce67">Status</a> <tr class="memdesc:a4424076bb90e3f85a0d91ab5d3f2ce67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status bits. <br /></td></tr>
<tr class="separator:a4424076bb90e3f85a0d91ab5d3f2ce67 inherit pub_types_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:a86786079cd197b03966585a7cc0c9ffe inherit pub_types_classtes_1_1PacketStream"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86786079cd197b03966585a7cc0c9ffe"></a>
typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtes_1_1PacketStream.html#a86786079cd197b03966585a7cc0c9ffe">CrcType</a></td></tr>
<tr class="memdesc:a86786079cd197b03966585a7cc0c9ffe inherit pub_types_classtes_1_1PacketStream"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defies the packet CRC type. <br /></td></tr>
<tr class="separator:a86786079cd197b03966585a7cc0c9ffe inherit pub_types_classtes_1_1PacketStream"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A utility class for writing payload data to a <code><a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet. ">PacketHeader</a></code>. </p>
<p>This keeps the <code><a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet. ">PacketHeader</a></code> <code>payloadSize</code> member up to date and ensures the CRC is calculated, either via <code><a class="el" href="classtes_1_1PacketWriter.html#ab1b60dfd5fa3e1925f34db7d3573a866" title="Calculates the CRC and writes it to the PacketHeader crc member. ">calculateCrc()</a></code> explicitly on on destruction.</p>
<p>The payload buffer size must be specified in the constructor, and data writes are limited by this value. The packet is assumed to be structured such that the packet header is located at the start of the buffer, followed immediately by space for the payload.</p>
<p>Two construction options are available, one where the <code><a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet. ">PacketHeader</a></code> details are already initialised, except for the <code>payloadSize</code> and <code>crc</code>. The given packet is assumed to be the start of the data buffer. The second constructor accepts a raw byte pointer, which marks the start of the buffer, and the size of the buffer. The buffer size must be large enough for the @ <a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet. ">PacketHeader</a>. Remaining space is available for the payload.</p>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000002">Bug:</a></b></dt><dd>Use the payloadOffset in various calculations hereing. It was added after this class was written, but is currently only supported as being zero, so it's not an issue yet. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab18b3d8f42edba797b17b50f3577a791"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tes::PacketWriter::PacketWriter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtes_1_1PacketHeader.html">PacketHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>maxPayloadSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>routingId</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>messageId</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <code><a class="el" href="classtes_1_1PacketWriter.html" title="A utility class for writing payload data to a PacketHeader. ">PacketWriter</a></code> to write to the given <code>packet</code>. </p>
<p>This marks the start of the packet buffer.</p>
<p>The packet members are initialised, but <code>payloadSize</code> and <code>crc</code> are left at zero to be calculated later. The <code>routingId</code> maybe given now or set with <code>setRoutingId()</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>The packet to write to. </td></tr>
    <tr><td class="paramname">maxPayloadSize</td><td>Specifies the space available for the payload (bytes). This is in excess of the packet size, not the total buffer size. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af2a4645e149622aef5cd9e6eaafb9e48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tes::PacketWriter::PacketWriter </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>bufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>routingId</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>messageId</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <code><a class="el" href="classtes_1_1PacketWriter.html" title="A utility class for writing payload data to a PacketHeader. ">PacketWriter</a></code> to write to the given byte buffer. </p>
<p>The buffer size must be at least <code>sizeof(PacketHeader)</code>, larger if any payload is required. If not, then the <code><a class="el" href="classtes_1_1PacketStream.html#ae4daabd28c6b84b5752f03d895c54cb2" title="Fail bit set? ">isFail()</a></code> will be true and all write operations will fail.</p>
<p>The <code>routingId</code> maybe given now or set with <code>setRoutingId()</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The packet data buffer. </td></tr>
    <tr><td class="paramname">bufferSize</td><td>The total number of bytes available for the <code><a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet. ">PacketHeader</a></code> and its paylaod. Must be at least <code>sizeof(PacketHeader)</code>, or all writing will fail. </td></tr>
    <tr><td class="paramname">routingId</td><td>Optionlly sets the <code>routingId</code> member of the packet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a871feef1eded8c54f334ede292da1729"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tes::PacketWriter::PacketWriter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtes_1_1PacketWriter.html">PacketWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy constructor. </p>
<p>Simple as neither writer owns the underlying memory. Both point to the same underlying memory, but only one should be used. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The packet to copy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a81b4772101e8c074404052c17897fcd2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t tes::PacketWriter::bytesRemaining </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of bytes remaining available in the payload. </p>
<p>This is calculated as the <code><a class="el" href="classtes_1_1PacketWriter.html#a28035c55f31e019b46d338e72ed3b8ef" title="Returns the size of the payload buffer. ">maxPayloadSize()</a></code> - <code><a class="el" href="classtes_1_1PacketStream.html#aefbee5b6566eb585c4895e4f777de45a" title="Fetch the payload size bytes in local endian. ">payloadSize()</a></code>. </p><dl class="section return"><dt>Returns</dt><dd>Number of bytes remaining available for write. </dd></dl>

</div>
</div>
<a class="anchor" id="ab1b60dfd5fa3e1925f34db7d3573a866"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtes_1_1PacketStream.html#a86786079cd197b03966585a7cc0c9ffe">CrcType</a> tes::PacketWriter::calculateCrc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the CRC and writes it to the <code><a class="el" href="structtes_1_1PacketHeader.html" title="The header for an incoming 3ES data packet. ">PacketHeader</a></code> crc member. </p>
<p>The current CRC value is returned when <code><a class="el" href="classtes_1_1PacketStream.html#ac6df312aac38e94dd1053beec3be7158" title="CRC validated? ">isCrcValid()</a></code> is true. The CRC will not be calculate when <code><a class="el" href="classtes_1_1PacketStream.html#ae4daabd28c6b84b5752f03d895c54cb2" title="Fail bit set? ">isFail()</a></code> is true and the result is undefined. </p><dl class="section return"><dt>Returns</dt><dd>The Calculated CRC, or undifined when <code><a class="el" href="classtes_1_1PacketStream.html#ae4daabd28c6b84b5752f03d895c54cb2" title="Fail bit set? ">isFail()</a></code>. </dd></dl>

</div>
</div>
<a class="anchor" id="af1cfacf0917a1392780302d5e3a1d4ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tes::PacketWriter::finalise </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalises the packet for sending, calculating the CRC. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the packet is valid and ready for sending. </dd></dl>

</div>
</div>
<a class="anchor" id="a28035c55f31e019b46d338e72ed3b8ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t tes::PacketWriter::maxPayloadSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of the payload buffer. </p>
<p>This is the maximum number of bytes which can be written to the payload. </p><dl class="section return"><dt>Returns</dt><dd>The payload buffer size (bytes). </dd></dl>

</div>
</div>
<a class="anchor" id="a3d9205cb7bb4d151d238304f6b0bc006"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtes_1_1PacketWriter.html">PacketWriter</a>&amp; tes::PacketWriter::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtes_1_1PacketWriter.html">PacketWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assignment operator. </p>
<p>Simple as neither writer owns the underlying memory. Both point to the same underlying memory, but only one should be used. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The packet to copy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2403fbd4f2ef4853bfa9083f31b3386c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tes::PacketWriter::reset </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>routingId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>messageId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the packet, clearing out all variable data including the payload, crc and routing id. </p>
<p>Allows preparation for writing new data to the same payload buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">routingId</td><td>Optional specification for the <code>routingId</code> after reset. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adacf09dcab7be257dc2059148c2cdb99"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tes::PacketWriter::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. </p>

</div>
</div>
<a class="anchor" id="ac1f56e63c059deec646d0e2ea2977bf1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t tes::PacketWriter::writeArray </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>elementSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>elementCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes an array of data items from the current position. </p>
<p>This makes the same assumptions as <code><a class="el" href="classtes_1_1PacketWriter.html#a67d88d43b9acc2bc84022bdbea155f1e" title="Writes a single data element from the current position. ">writeElement()</a></code> and performs an endian swap per array element. Elements in the array are assumed to be contiguous in both source and destination locations.</p>
<p>The writer position is advanced by the number of bytes write. Does not set the <code>Fail</code> bit on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bytes</td><td>Location to write from. </td></tr>
    <tr><td class="paramname">elementSize</td><td>Size of a single array element to write. </td></tr>
    <tr><td class="paramname">elementCount</td><td>The number of elements to attempt to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns the number of elements written, not bytes. </dd></dl>

</div>
</div>
<a class="anchor" id="a67d88d43b9acc2bc84022bdbea155f1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t tes::PacketWriter::writeElement </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>elementSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a single data element from the current position. </p>
<p>This assumes that a single data element of size <code>elementSize</code> is being write and may require an endian swap to the current platform endian.</p>
<p>The writer position is advanced by <code>elementSize</code>. Does not set the <code>Fail</code> bit on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bytes</td><td>Location to write from. </td></tr>
    <tr><td class="paramname">elementSize</td><td>Size of the data item being write at <code>bytes</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>elementSize</code> on success, 0 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a93fd2765dfdd18c3e2e182a8c35cbcc6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t tes::PacketWriter::writeElement </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes a single data item from the packet. </p>
<p>This writes a number of bytes equal to <code>sizeof(T)</code> performing an endian swap if necessary. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">element</td><td>Set to the data write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>sizeof(T)</code> on success, zero on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a4cd9861810d73255c301e02181fcda0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t tes::PacketWriter::writeRaw </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>byteCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes raw bytes from the packet at the current position up to <code>byteCount</code>. </p>
<p>No endian swap is performed on the data write.</p>
<p>The writer position is advanced by <code>byteCount</code>. Does not set the <code>Fail</code> bit on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bytes</td><td>Location to write into.  byteCount Number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes write. This may be less than <code>byteCount</code> if there are insufficient data available. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="3espacketwriter_8h_source.html">3espacketwriter.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetes.html">tes</a></li><li class="navelem"><a class="el" href="classtes_1_1PacketWriter.html">PacketWriter</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
